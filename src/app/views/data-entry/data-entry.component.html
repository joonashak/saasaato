
<h3>New temperature observation</h3>

<p class="lead">
  Enter details and hit Save to enter a new temperature observation into the system.
  Current time will be used as observation time.
</p>

<form
  [formGroup]="form"
  (ngSubmit)="submit()"
  class="form-horizontal"
>

  <div class="form-group">
    <label for="temperature" class="col-sm-2 col-sm-offset-1 control-label">
      <span class="glyphicon glyphicon-fire" style="font-size: 1.5em;"></span>
    </label>
    <div class="col-sm-7">
      <div class="input-group">
        <input
          formControlName="temperature"
          type="text"
          class="form-control data-entry-input"
          id="temperature"
          name="temperature"
          aria-label="Temperature"
          placeholder="Temperature"
          autofocus
          #temperatureElement
        >
        <div class="input-group-addon">°C</div>
      </div>
    </div>
  </div>

  <div
    *ngIf="temperature?.touched && temperature?.invalid"
    class="col-sm-7 col-sm-offset-3 data-entry-alert"
  >
    <span *ngIf="temperature.errors?.required">Temperature is required.</span>
    <span *ngIf="temperature.errors?.min">Value is out of range (min -90 °C)</span>
    <span *ngIf="temperature.errors?.max">Value is out of range (max 70 °C)</span>
    <span *ngIf="temperature.errors?.pattern">Temperature must be a number.</span>
  </div>

  <div class="form-group">
    <label for="location" class="col-sm-2 col-sm-offset-1 control-label">
      <span class="glyphicon glyphicon-map-marker" style="font-size: 1.5em;"></span>
    </label>
    <div class="col-sm-7">
      <select
        formControlName="location"
        id="location"
        name="location"
        class="form-control data-entry-input"
        aria-label="Location"
      >
        <option value="" disabled="disabled" hidden="hidden">Select location...</option>
        <option
          *ngFor="let location of locations; index as i"
          [value]="i"
        >{{ location.name }}</option>
      </select>
    </div>
  </div>

  <div
    *ngIf="location?.touched && location?.invalid"
    class="col-sm-7 col-sm-offset-3 data-entry-alert"
  >
    <span *ngIf="location.errors?.required">Location is required.</span>
  </div>

  <div class="form-group">
    <div class="col-sm-7 col-sm-offset-3">
      <input type="submit" class="btn btn-primary" value="Save">
    </div>
  </div>

</form>
